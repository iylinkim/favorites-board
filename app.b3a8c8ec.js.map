{"version":3,"sources":["../../src/components/component.ts","../../../src/components/input/select-input.ts","../../../src/components/input/url-input.ts","../../../../src/components/page/dialog/dialog.ts","../../../../src/components/page/item/note.ts","../../../../src/components/page/item/image.ts","../../../../src/components/page/item/video.ts","../../../src/components/page/page.ts","../../../src/components/input/file-input.ts","../src/app.ts"],"names":[],"mappings":";;;;;;;AGCA,AEDA,ADAA,AEAA,AEAA,APAA,ACAA,AKAA,AECA;;AACA;;AACA;;AAOA,ITJa;AAEX,yBAAY,UAAZ,EAA8B;AAAA,ASGhC;;ATFI,ASKJ,QTLU,QAAQ,GAAG,QAAQ,CAAC,aAAT,CAAuB,UAAvB,CAAjB;AACA,IAAA,QAAQ,CAAC,SAAT,GAAqB,UAArB;AACA,ASIJ,STJS,OAAL,GAAe,QAAQ,CAAC,OAAT,CAAiB,iBAAhC;AACD;ASQH;;;WTNE,kBAAS,MAAT,EAAqE;AAAA,UAAvC,QAAuC,uEAAZ,YAAY;AACnE,MAAA,MAAM,CAAC,qBAAP,CAA6B,QAA7B,EAAuC,KAAK,OAA5C;AACD,IKfU,ADAA;;IK2BA;AAEX,WTZA,ISYY,OAAZ,EAA0C,OTZ/B,GSYX,EAAiE,CTZjE,EAA8B;AAC5B,ASW+D,INXtD,AGlBA,AEAA,APAA,ACAA,AK4BA,MPVL,MAAM,KAAK,KAAK,OAAL,CAAa,aAA5B,EAA2C;AKjB7C,ADAA,AJkBI,cAAM,IAAI,KAAJ,CAAU,CIlBR,CCAA,IDAZ,CCAA,CDA2B,CCAA,GDA3B,CCAA,CDAyC,CCAA,GAAzC,ALkBU,CAAN,CKlBgD,ODApD,EAA8D;ACAV,ADAU,AJmB3D,ASSuC,SAAA,UAAA,GAAA,UAAA;AACxC,SAAK,IAAL,GAAY,IAAI,mBAAJ,CAAkB,uBAAlB,CAAZ;AJ7BkD,ADAU,AJoB5D,ASUA,MTVA,GSUK,GTVC,CAAC,ASUP,CAAU,QAAV,CAAmB,CTVnB,CAAmB,KAAK,ASUxB,OTVA;AGGF,AGvBA,AEEA,APFA,ACAA,AKiCA,APZC,ASWC,SAAK,cNTK,GGvBA,EHuBZ,AMSE,CPhCF,AOiCI,CNVqB,AKrBzB,CFFA,ACiCA,CNjCA,CKA2B,IAA3B,EAAyC,EGgCvC,CHhCF,CGkCI,CHlC+C,wBGgCjD,EAGE,UAAC,KAAD,EAAyB,KAAzB,EAAwC,OAAxC;ANZqB,AEtBvB,ADAA,AEDiD,AEEnD,APFA,ACAA,AKiCA,AEEI,aACE,IAAI,qBAAJ,CAAmB,KAAnB,EAA0B,OAA1B,EAAmC,KAAK,CAAC,GAAzC,CADF;AAAA,KAHF;ANTuB,AEZvB,ADCA,AEZiD,AEEnD,APFA,ACAA,AKiCA,AEME,QJ5BM,ADCA,CK2BD,EThBP,SKZoB,ADCA,GCDG,ADCA,IJWhB,CSgBL,CJ5B0B,ADCA,AK4BxB,OJ7BmB,ADCA,AJWvB,CKZoC,ADCA,CJWgC,GSgBlE,EAEE,OJ9BmB,ADCA,CCAnB,ADCA,QCFmB,ADCA,CCDrB,ADCA,UK2BA,EAGE,UAAC,KAAD,EAA0B,KAA1B,EAAyC,OAAzC,EAA4D;AR/B/D,ACJA,AFgBmE,ASoB9D,UTpBuB,GSoBhB,IAAI,CTpBmD,oBSoBvD,CAAmB,KAAnB,EAA0B,OAA1B,EAAmC,KAAK,CAAC,IAAzC,CAAP,uBTpBkD,YAAY;AGClE,AEVA,ADCA,AEdA,AEEA,AD+BA,APVA,ASoBG,IJ9BH,ADCA,CKwBA,CTfA,SAAS,CKVG,ADCA,AJSF,CKVG,ADCA,OJSb,CAAmB,GKVnB,ADCA,EJSwB,CKVG,ADCA,KCD3B,ADCA,CJSA,EAAiC,QAAjC;AQxBM,ARyBP,ASsBC,SAAK,CD/CC,WAAA,GAAqB,EAArB,EC+CN,CACE,WADF,EAEE,+BAFF,EAGE,UAAC,KAAD,EAA4B,KAA5B,EAA2C,OAA3C;ANRF,AE1BA,ADCA,AEJA,AC8BA,AEOE,QNRI,AE1BA,ADCA,AEJA,AC8BA,KEQF,CHtCQ,EC8BE,CD9BC,AGsCP,EJnCS,ADCA,AG0BA,CJDC,EE1BE,ADCA,CDyBC,AG7BD,EC8BE,GF3BG,ADCA,CDyBC,CG7BX,CAAa,CC8BX,CAAa,EF3BV,ADCA,CDyBC,AE1BY,ADCA,AKkC7B,CNT8B,AMSZ,KAAlB,EHtCW,AGsCc,CHtCa,CC8BzB,CAA2B,EF3BxB,ADCA,CDyBC,AE1B0B,ADCA,CD0B7C,AMQE,EAAkC,EFRrB,CAAjB,CF3BoB,ADCA,CCDpB,ADCA,AKkC2C,CAAC,CHtC7B,CAAf,MGsCI,CNTiB,AMQnB,CNRF;AKjCA,ACyCE,KAHF,GDtCM,CPIR,ACJA,MMAe,GAAG,MAAK,APIX,ACJL,OMAW,CAAa,aAAb,CAA2B,OAA3B,CAAhB;ALoCA,AE5BA,ADCA,AEJA,ALAA,ACJA,AKkCA,AESD,INRC,AE5BA,ADCA,AEJA,AC8BA,MD9BM,ALAA,ACJA,CIIC,CC8BC,CAAC,CD9BT,CDGW,ADCA,CD2BC,AE5BA,ADCA,CD2BC,AG/BA,ALAA,ACJA,GDIG,ACJA,AKkChB,GD9BkB,AC8BC,EN9BE,ACJA,EGOrB,ADCA,CD2BA,EE5B0B,ADCA,CD2BC,CF/BX,ACJA,CDIa,ACJA,CGO7B,ADCA,CG0BwB,CJCxB,OG/Ba,CAA0B,ELAvB,ACJA,CIIH,ALA8B,ACJA,CII3C,KJJgB,CAAhB,EDIgB,CAAhB;AOJA,APKA,ACJA,AKkCE,ICnCF,OAAO,CAAC,ADmCD,CN9BA,ACJA,OMDP,APKc,ACJA,CDIC,ACJA,EMDI,EDmCjB,CN9BF,ACJA,GKkCwB,MCnCA,ADmCK,aAAL,EAAtB;AJGF,AE7BA,ADCA,AEAA,AETE,APKH,ACJA,AKkCE,KAFD,GJIM,AE7BA,ADCA,AEAA,EETE,KAAK,CLqCC,EKrCE,CLqCC,CE7BC,ACCA,GDDG,ACCA,EH4BC,AKrCC,CAAC,CJSC,ECDC,ACCA,CFAE,CIT1B,CLqCe,CAAa,GE7BT,ADCY,AEAZ,CDDa,ACCA,MFAN,CAAa,ED4BxB,CAA2B,GE7BvB,ACCA,CDAnB,ACCA,IH2Be,CAAjB,CC5B4B,CAC1B,CCFmB,ACCA,CDDrB,ACCA,cFA4B,CAA5B;AIRE,UAAM,MAAM,GAAG,IAAI,UAAJ,EAAf;ALqCF,AE3BA,ADCA,AEAA,ACyBA,IJCA,AE3BA,ADCA,AEAA,MCyBK,CEOC,CNNE,CAAC,GE3BG,ACCA,CDDC,ACCA,ACyBb,CAAa,EJCb,AE3BA,GF2BmB,AE3BA,ADCA,CAAC,ECDpB,ECCA,GAA2B,EFA3B,CAA8B,AGyB9B,CJCwB,AIDM,CDzB9B,CFAA,CAAkC,EKmClC,MFVA,EAA2C,AEOrC,EAIN,CLpCA,OGyB4C,KAAD,CEOrC,CFP0D,CEYhE,WALM,EAK8D;ANVlE,AElDgD,ADwBlD,AIVE,ADmCA,AEWkE,ILpCpE,EIVE,MLoCK,AKpCC,ADmCD,CCnCE,SAAP,CJUiB,AGyBjB,CHzBkB,AGyBD,CJCjB,AKpCmB,ILoCG,AIDtB,MJC2B,AC1B7B,AIVsB,GJUY,UD0BV,AKpCH,ELoCnB,AKpCqC,CJUvC;AD2BC,AE5BF,ADvB6D,AEyB5D,AEVI,ADmCH,ENnDmC,ACAH,GCkDjC,AIDA,GDvBM,IEVI,OFUO,GAAG,AEVA,GAAG,GFUE,OAAL,CAAa,EEVG,CAAC,UFUjB,CAA2B,EEV3C,KFUgB,CAApB;AFAD,AITK,AC8CJ,UAAM,ID9CG,GC8CI,GAAG,KD9CZ,GAAmB,AC8CC,CAAC,SD9CQ,CAAC,GC8ClB,CAAuB,ED9CnC,MC8CY,CAAhB;ANRA,AG5BA,AETG,ADkCH,AEYA,IHrCA,EGqCA,CDjDE,GLwCG,AIHA,GEYE,CAAC,CHrCG,CAAC,CH4BZ,AIHA,CJGa,AIHA,OJGb,EG5BA,CH4BuB,EG5BG,AGqC1B,CAAyB,GHrCzB,ACyBA,CAA8B,GJGN,AMSxB,CNTuB,CMSW,CNTE,GIHpC,EAAyC,IEYN,CAAD,EAAa,GFZL,KAAD,EAAqB;AJI5D,AGvD+C,ACoD/C,AEYA,EJjE8B,QFwDxB,EIHD,AEYC,INTM,EMSA,CNTG,CAAC,CAAC,AIHjB,AEYe,CFZA,AEYC,CAAC,INTjB,AIHA,SEYA;AHrCH,AETG,ADmCD,AEYC,ELlE6B,GGoD/B,CCjCE,MAAM,AC+CA,CD/CC,KC+CK,GAAG,IAAI,CD/CnB,CAAqB,KAAK,CAAC,CAAD,CAA1B,SC+Ce,CAAgB,MAAM,CAAC,SAAvB,CAAf;ANTA,AKrCD,AC+CC,KDxDF,KL8CM,EMUE,INVI,CAAC,AMUA,GAAG,INVV,AMUc,CNVC,aMUL,EAAd,CNVI,CAAJ,EAAsC;AACpC,AIHJ,AEcE,QAAA,EFdG,IJGI,AMWD,CAAC,EFdT,CAAa,KEcX,CAAgB,GNXd,EMWF,ENXwB,GIH1B,CAA8B,EJGC,SIH/B,EAA2C,EJGjB,EAAtB,MIHwC,KAAD,EAAqB;AJI7D,AKxDL,ADqDI,AEcA,QAAA,IFdK,EEcC,CAAC,QFdP,AEcA,CFdiB,AEcD,KFdhB,AEcoB,CAAC,UAArB;ANVD,AKvCF,ADoCE,AEeC,KNjBF,AIAA,GEiBE,GH1CI,GG0CE,CAAC,kBAAP,CAA0B,OH1CD,GAArB,EAAgC,AG0CL;AHzCjC,AG0CI,UH1CE,AG0CF,MH1CQ,AG0CF,CAAC,EH1CI,QG0CX,CAAkB,KAAI,CAAC,UAAvB,yGH1CJ;AH8BA,AG7BA,AC0BA,AEgBG,QNbG,CMWJ,CHxCI,AC0BD,KD1BM,EH6BI,AIHf,CD1Bc,AC0BD,EJGK,CG7BD,CAAC,IH6BK,CG7BT,CAAU,KH6BN,CAAa,AG7BjB,AC0Bd,CD1BA,AC0B8B,WAA9B,CJGkB,CAChB,AIJyC,UAAC,KAAD,CJGzB,CAAlB,AIHgE;ADzBhE,AC0BE,AEiBA,QAAA,EH3CI,EC0BC,EEiBC,CAAC,EH3CI,GAAG,GC0Bd,CAAiB,CD1BE,GAAG,CC0BtB,ID1B2B,CAAC,AG2C5B,CH3C2B,AG2CA,CH3CL,IAAY,KAAK,CAAC,CAAD,AG2CP,CH3Cb,GAA0B,SAA/C;AH+BA,AIJC,AEiBG,INbJ,CINA,ICnCF,ILyCW,CAAC,AMaF,MAAM,CNbd,AMae,GNbK,AKzCd,ECsDE,KAAiB,EAAjB,GNbiB,CMaM,MAAM,CAAC,OAAP,KAAmB,EAA9C,EAAkD;ANZpD,AG/BF,AEVA,ACsDM,UH5CF,EH+BG,AMaD,CDtDC,IFUP,AG4CW,CDtDC,ACsDA,CH5CC,OH+BX,GKzCF,CLyCyB,MAAK,MManB,CAAL,ONbmB,EAAvB;AACD,AG/BC,AEVH,ADSD,AE6CO,KNfL,MMaI,MAEO,sCH5C+B,OAAxC;AACD,ACyBF,AEmBO,gBAAM,KAAK,GAAG,WAAW,CAAC,KAAD,EAAQ,MAAM,CAAC,KAAf,EAAsB,MAAM,CAAC,OAA7B,CAAzB;ANxDiB;AA2CxB,AG9BC,AG4CM,YAAA,CH5CC,GAAP,CG4CU,CAAC,IAAL,CAAU,QAAV,CAAmB,KAAnB;AH3CP,EEtCmC;ACkF5B,WFnBR,CEmBQ,MAAM,CAAC,UAAP,CAAkB,EFnBd,CAAZ,EAAwB,AEmBM,CAAC,UAAvB;AFlBN,AEmBK,WFnBA,mBAAL,CAAyB,OAAzB;AACA,AEmBG,SNfL,AMOI,EFXG,OAAL,CAAa,KJIN,IIJP,CAAuB,GAAvB,CAA2B,QAA3B;AJKA,AIJD,AEmBE,EHrF+B,KGgEhC,GNMM,OAAO,GAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAhB;AAEA,AMcD,aNdQ,OAAO,CAAC,KAAf;AACD;WI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","file":"app.b3a8c8ec.js","sourceRoot":"..","sourcesContent":["export interface Component {\n  attachTo(parent: HTMLElement, position?: InsertPosition): void;\n  removeFrom(parent: HTMLElement): void;\n  attach(component: Component, position?: InsertPosition): void;\n}\n\nexport class BaseComponent<T extends HTMLElement> implements Component {\n  protected readonly element: T;\n  constructor(htmlString: string) {\n    const template = document.createElement(\"template\");\n    template.innerHTML = htmlString;\n    this.element = template.content.firstElementChild! as T;\n  }\n\n  attachTo(parent: HTMLElement, position: InsertPosition = \"afterbegin\") {\n    parent.insertAdjacentElement(position, this.element);\n  }\n\n  removeFrom(parent: HTMLElement) {\n    if (parent !== this.element.parentElement) {\n      throw new Error(\"Parent mismatch!\");\n    }\n    parent.removeChild(this.element); //this.element(자기 자신)제거함\n  }\n\n  attach(component: Component, position: InsertPosition = \"afterbegin\") {\n    component.attachTo(this.element, position);\n  }\n}\n","import { BaseComponent } from \"./../component.js\";\nexport class SelectSectionInput extends BaseComponent<HTMLElement> {\n  constructor() {\n    super(`\n        <div class=\"form_container\">\n            <label for=\"title\">Category</label>\n            <select id=\"select\">\n                <option value=\"daily\">daily</option>\n                <option value=\"important\">important</option>\n                <option value=\"todo\">todo</option>\n            </select>\n        </div>\n        `);\n  }\n\n  get category(): string {\n    const element = this.element.querySelector(\"#select\")! as HTMLSelectElement;\n    return element.value;\n  }\n}\n","import { BaseComponent } from \"./../component.js\";\nexport class UrlSectionInput extends BaseComponent<HTMLElement> {\n  constructor() {\n    super(`\n        <div class=\"form_container\">\n            <label for=\"title\">Url</label>\n            <input type=\"text\" id=\"url\" required/>\n        </div>\n        `);\n  }\n\n  get url(): string {\n    const element = this.element.querySelector(\"#url\")! as HTMLInputElement;\n    return element.value;\n  }\n}\n","import { Composable } from \"./../page.js\";\nimport { BaseComponent, Component } from \"./../../component.js\";\n\ntype onCloseListener = () => void;\ntype onSubmitListener = () => void;\n\nexport interface FileData {\n  readonly file: string;\n}\nexport interface SearchData {\n  readonly search: string;\n}\nexport interface SelectData {\n  readonly category: string;\n}\nexport interface UrlData {\n  readonly url: string;\n}\n\nexport class InputDialog\n  extends BaseComponent<HTMLElement>\n  implements Composable {\n  closeListener?: onCloseListener;\n  submitListener?: onSubmitListener;\n\n  constructor(title: string) {\n    super(`\n        <section class=\"dialog\">\n            <div id=\"dialog_body\">\n            <h4 class=\"category_title\"></h4>\n              <div class=\"form_container\">\n                <label for=\"title\">Title</label>\n                <input type=\"text\" id=\"title\">\n              </div>\n              <div class=\"form_container\">\n                  <label for=\"title\">Comment</label>\n                  <input type=\"text\" id=\"comment\">\n              </div>\n              <button class=\"close\"><i class=\"fas fa-times\"></i></button>\n              <button class=\"dialog_submit\">ADD</button>\n            </div>\n        </section>\n        `);\n\n    const titleElement = this.element.querySelector(\n      \".category_title\"\n    )! as HTMLHeadingElement;\n    titleElement.textContent = title;\n\n    //close버튼 클릭했을 때\n    const closeBtn = this.element.querySelector(\".close\")! as HTMLButtonElement;\n    closeBtn.onclick = () => {\n      this.closeListener && this.closeListener();\n    };\n\n    //바탕화면 클릭했을 때\n    this.element.onclick = (e: Event) => {\n      const target = e.target! as HTMLElement;\n      if (target.matches(\"section.dialog\")) {\n        this.closeListener && this.closeListener();\n      }\n    };\n    const submitBtn = this.element.querySelector(\n      \".dialog_submit\"\n    )! as HTMLButtonElement;\n    submitBtn.onclick = () => {\n      this.submitListener && this.submitListener();\n    };\n  }\n\n  get title(): string {\n    const element = document.querySelector(\"#title\")! as HTMLButtonElement;\n\n    return element.value;\n  }\n  get comment(): string {\n    const element = document.querySelector(\"#comment\")! as HTMLButtonElement;\n\n    return element.value;\n  }\n\n  setOnCloseListener(listener: onCloseListener) {\n    this.closeListener = listener;\n  }\n\n  setOnSubmitListener(listener: onSubmitListener) {\n    this.submitListener = listener;\n  }\n\n  addChild(child: Component) {\n    const body = this.element.querySelector(\"#dialog_body\")! as HTMLElement;\n    child.attachTo(body, \"beforeend\");\n  }\n}\n","import { BaseComponent } from \"./../../component.js\";\nexport class NoteComponent extends BaseComponent<HTMLElement> {\n  constructor(title: string, info: string, note_category: string) {\n    super(`\n        <section class=\"item note\">\n            <div class=\"text note_info\">\n                <span class=\"item_category\"></span>\n                <h3 class=\"title\"></h3>\n                <div class=\"info\"></div>\n                <span class=\"note_category\"></span>\n            </div>\n        </section>\n        `);\n\n    const titleElement = this.element.querySelector(\n      \".title\"\n    )! as HTMLHeadingElement;\n    titleElement.textContent = title;\n\n    const infoElement = this.element.querySelector(\".info\")! as HTMLElement;\n    infoElement.textContent = info;\n\n    const noteCategoryElement = this.element.querySelector(\n      \".note_category\"\n    )! as HTMLElement;\n    noteCategoryElement.classList.add(note_category);\n    noteCategoryElement.textContent = note_category;\n  }\n}\n","import { BaseComponent } from \"./../../component.js\";\nexport class ImageComponent extends BaseComponent<HTMLElement> {\n  constructor(title: string, info: string, src: string) {\n    super(`\n        <section class=\"item place\">\n            <div class=\"holder place_holder\"><img class=\"image\"/></div>\n            <div class=\"text image_info\">\n                <h3 class=\"title\">Image Title</h3>\n                <div class=\"info\">Image info area</div>\n            </div>\n        </section>\n        `);\n\n    const titleElement = this.element.querySelector(\n      \".title\"\n    )! as HTMLHeadingElement;\n    titleElement.textContent = title;\n\n    const infoElement = this.element.querySelector(\".info\")! as HTMLElement;\n    infoElement.textContent = info;\n\n    const imageElement = this.element.querySelector(\n      \".image\"\n    )! as HTMLImageElement;\n    imageElement.src = src;\n  }\n}\n","import { BaseComponent } from \"./../../component.js\";\nexport class VideoComponent extends BaseComponent<HTMLElement> {\n  constructor(title: string, info: string, url:string) {\n    super(`\n        <section class=\"item video\">\n            <div class=\"holder video_holder\">\n                <iframe class=\"video_iframe\"></iframe>\n            </div>\n            <div class=\"text video_info\">\n                <h3 class=\"title\">Video Title</h3>\n                <div class=\"info\">place info area</div>\n            </div>\n        </section>\n        `);\n\n    const iframe = this.element.querySelector(\".video_iframe\")! as HTMLIFrameElement;\n    iframe.src = this.convertToEmbeddedURL(url);\n    // const categoryElement = this.element.querySelector(\n    //   \".category\"\n    // )! as HTMLElement;\n    // categoryElement.textContent = category;\n\n    const titleElement = this.element.querySelector(\n      \".title\"\n    )! as HTMLHeadingElement;\n    titleElement.textContent = title;\n\n    const infoElement = this.element.querySelector(\".info\")! as HTMLElement;\n    infoElement.textContent = info;\n  }\n\n  private convertToEmbeddedURL(url: string): string {\n    const regExp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:(?:youtube.com\\/(?:(?:watch\\?v=)|(?:embed\\/))([a-zA-Z0-9-]{11}))|(?:youtu.be\\/([a-zA-Z0-9-]{11})))/;\n    const match = url.match(regExp);\n    const videoId = match ? match[1] || match[2] : undefined;\n    if (videoId) {\n      return `https://www.youtube.com/embed/${videoId}`;\n    }\n    return url;\n  }\n}\n","import { BaseComponent, Component } from \"./../component.js\";\n\nexport interface Composable {\n  addChild(child: Component): void;\n}\n\ntype OnCloseListener = () => void;\n\ntype DragState = \"start\" | \"stop\" | \"enter\" | \"leave\";\ntype OnDragStateListener<T extends Component> = (\n  target: T,\n  state: DragState\n) => void;\n\ninterface SectionContainer extends Component, Composable {\n  setOnCloseListener(listener: OnCloseListener): void;\n  setOnDragStateListener(\n    listener: OnDragStateListener<SectionContainer>\n  ): void;\n  muteChildren(state: \"mute\" | \"unmute\"): void;\n  getBoundingRect(): DOMRect;\n  onDropped(): void;\n}\n\ntype SectionContainerConstructor = {\n  //생성자를 정의하는 type\n  new (): SectionContainer; //생성자는 아무것도 받지 않음\n};\n\nexport class PageItemComponent\n  extends BaseComponent<HTMLElement>\n  implements SectionContainer {\n  private closeListener?: OnCloseListener;\n  private dragStateListener?: OnDragStateListener<PageItemComponent>;\n\n  constructor() {\n    super(`\n      <li draggable=\"true\" class=\"page_item\">\n        <section class=\"page_item_body\"></section>\n        <div class=\"page_item_controls\">\n          <button class=\"close\"><i class=\"fas fa-times\"></i></button>\n        </div>\n      </li>\n    `);\n\n    const closeBtn = this.element.querySelector(\".close\")! as HTMLButtonElement;\n    closeBtn.onclick = () => {\n      this.closeListener && this.closeListener();\n    };\n\n    this.element.addEventListener(\"dragstart\", (event: DragEvent) => {\n      this.onDragStart(event);\n    });\n    this.element.addEventListener(\"dragend\", (event: DragEvent) => {\n      this.onDragEnd(event);\n    });\n    this.element.addEventListener(\"dragenter\", (event: DragEvent) => {\n      this.onDragEnter(event);\n    });\n    this.element.addEventListener(\"dragleave\", (event: DragEvent) => {\n      this.onDragLeave(event);\n    });\n  }\n\n  onDragStart(_: DragEvent) {\n    this.notifyDragObservers(\"start\");\n    this.element.classList.add(\"lifted\");\n  }\n  onDragEnd(_: DragEvent) {\n    this.notifyDragObservers(\"stop\");\n    this.element.classList.remove(\"lifted\");\n  }\n  onDragEnter(_: DragEvent) {\n    this.notifyDragObservers(\"enter\");\n    this.element.classList.add(\"drop-area\");\n  }\n  onDragLeave(_: DragEvent) {\n    this.notifyDragObservers(\"leave\");\n    this.element.classList.remove(\"drop-area\");\n  }\n\n  onDropped() {\n    this.element.classList.remove(\"drop-area\");\n  }\n\n  notifyDragObservers(state: DragState) {\n    this.dragStateListener && this.dragStateListener(this, state);\n  }\n\n  addChild(child: Component) {\n    const container = this.element.querySelector(\n      \".page_item_body\"\n    )! as HTMLElement;\n    child.attachTo(container);\n  }\n\n  setOnCloseListener(listener: OnCloseListener) {\n    this.closeListener = listener;\n  }\n\n  setOnDragStateListener(listener: OnDragStateListener<PageItemComponent>) {\n    this.dragStateListener = listener;\n  }\n\n  muteChildren(state: \"mute\" | \"unmute\") {\n    if (state === \"mute\") {\n      this.element.classList.add(\"mute-children\");\n    } else {\n      this.element.classList.remove(\"mute-children\");\n    }\n  }\n\n  getBoundingRect(): DOMRect {\n    return this.element.getBoundingClientRect();\n  }\n}\n\nexport class PageComponent\n  extends BaseComponent<HTMLUListElement>\n  implements Composable {\n  private children = new Set<SectionContainer>();\n  private dragTarget?: SectionContainer;\n  private dropTarget?: SectionContainer;\n\n  constructor(private pageItemConstructor: SectionContainerConstructor) {\n    super(`<ul class=\"page\"></ul>`);\n\n    this.element.addEventListener(\"dragover\", (event: DragEvent) => {\n      this.onDragOver(event);\n    });\n    this.element.addEventListener(\"drop\", (event: DragEvent) => {\n      this.onDrop(event);\n    });\n  }\n\n  onDragOver(event: DragEvent) {\n    event.preventDefault();\n  }\n\n  onDrop(event: DragEvent) {\n    event.preventDefault();\n\n    if (!this.dropTarget){\n      return;\n    }\n\n    if (this.dragTarget && this.dragTarget !== this.dropTarget) {\n      const dropY = event.clientY;\n      const srcElement = this.dragTarget.getBoundingRect();\n\n      this.dragTarget.removeFrom(this.element);\n      this.dropTarget.attach(\n        this.dragTarget,\n        dropY < srcElement.y ? \"beforebegin\" : \"afterend\"\n      );\n\n      this.dropTarget.onDropped();\n    }\n  }\n\n  addChild(section: Component) {\n    const item = new this.pageItemConstructor();\n    item.addChild(section);\n    item.attachTo(this.element, \"beforeend\");\n    item.setOnCloseListener(() => {\n      item.removeFrom(this.element);\n      this.children.delete(item);\n    });\n    this.children.add(item);\n    item.setOnDragStateListener(\n      (target: SectionContainer, state: DragState) => {\n        switch (state) {\n          case \"start\":\n            this.dragTarget = target;\n            this.updateSections(\"mute\");\n            break;\n          case \"stop\":\n            this.dragTarget = undefined;\n            this.updateSections(\"unmute\");\n            break;\n          case \"enter\":\n            this.dropTarget = target;\n            break;\n          case \"leave\":\n            this.dropTarget = undefined;\n            break;\n          default:\n            throw new Error(`unsupported state: ${state}`);\n        }\n      }\n    );\n  }\n\n  private updateSections(state: \"mute\" | \"unmute\") {\n    this.children.forEach((section: SectionContainer) => {\n      section.muteChildren(state);\n    });\n  }\n}\n","import { BaseComponent } from \"./../component.js\";\nexport class FileSectionInput extends BaseComponent<HTMLElement> {\n  private file_result:string = \"\";\n\n  constructor() {\n    super(`\n        <div class=\"form_container\">\n            <label for=\"title\">File</label>\n            <input type=\"file\" accept=\"image/*\" id=\"file\"/>\n        </div>\n        `);\n    const element = this.element.querySelector(\"#file\")! as HTMLInputElement;\n    element.onchange = () => {\n      const files = element.files! as FileList;\n      const reader = new FileReader();\n\n      reader.onloadend = (finishedEvent) => {\n        const fileReader = finishedEvent.currentTarget! as FileReader;\n        this.file_result = fileReader.result! as string;\n      };\n      reader.readAsDataURL(files[0]! as File);\n    };\n  }\n\n  get file(): string {\n    return this.file_result;\n  }\n}\n","// import { SearchSectionInput } from \"./components/input/search-input.js\";\nimport { SelectSectionInput } from \"./components/input/select-input.js\";\nimport { UrlSectionInput } from \"./components/input/url-input.js\";\nimport {\n  InputDialog,\n  FileData,\n  SearchData,\n  SelectData,\n  UrlData,\n} from \"./components/page/dialog/dialog.js\";\nimport { NoteComponent } from \"./components/page/item/note.js\";\nimport { ImageComponent } from \"./components/page/item/image.js\";\nimport { Component } from \"./components/component.js\";\n// import { PlaceComponent } from \"./components/page/item/place.js\";\nimport { VideoComponent } from \"./components/page/item/video.js\";\nimport {\n  Composable,\n  PageComponent,\n  PageItemComponent,\n} from \"./components/page/page.js\";\nimport { FileSectionInput } from \"./components/input/file-input.js\";\n\ntype InputComponentConstructor<\n  T = (FileData | SearchData | SelectData | UrlData) & Component\n> = {\n  new (): T; //T타입을 새로 생성함\n};\n\nexport class App {\n  private readonly page: Component & Composable;\n  constructor(appRoot: HTMLElement, private dialogRoot: HTMLElement) {\n    this.page = new PageComponent(PageItemComponent);\n    this.page.attachTo(appRoot);\n\n    this.bindElementToDialog<UrlSectionInput>(\n      \"#new_video\",\n      UrlSectionInput,\n      (input: UrlSectionInput, title: string, comment: string) =>\n        new VideoComponent(title, comment, input.url)\n    );\n\n    this.bindElementToDialog<FileSectionInput>(\n      \"#new_image\",\n      FileSectionInput,\n      (input: FileSectionInput, title: string, comment: string) => {\n        return new ImageComponent(title, comment, input.file);\n      }\n    );\n\n    this.bindElementToDialog<SelectSectionInput>(\n      \"#new_note\",\n      SelectSectionInput,\n      (input: SelectSectionInput, title: string, comment: string) =>\n        new NoteComponent(title, comment, input.category)\n    );\n  }\n\n  private bindElementToDialog<\n    T extends (FileData | SearchData | SelectData | UrlData) & Component\n  >(\n    selector: string,\n    InputComponent: InputComponentConstructor<T>,\n    makeSection: (input: T, title: string, comment: string) => Component //전달된 T타입을 가진 input으로 Component를 만드는 콜백함수\n  ) {\n    const element = document.querySelector(selector)! as HTMLButtonElement;\n    element.addEventListener(\"click\", (e: Event) => {\n      const target = e.currentTarget! as HTMLButtonElement;\n      const dialog = new InputDialog(target.innerText);\n      const input = new InputComponent();\n\n      dialog.addChild(input);\n      dialog.attachTo(this.dialogRoot);\n\n      dialog.setOnCloseListener(() => {\n        dialog.removeFrom(this.dialogRoot); //close버튼 누르면 document.body에서 dialog 제거\n      });\n\n      dialog.setOnSubmitListener(() => {\n        if (dialog.title === \"\" || dialog.comment === \"\") {\n          alert(\"Please enter contents!\");\n        } else {\n          const image = makeSection(input, dialog.title, dialog.comment);\n          this.page.addChild(image);\n          dialog.removeFrom(this.dialogRoot); //submit후 dialog 창 없애주어야 함\n        }\n      });\n    });\n  }\n}\n\nnew App(document.querySelector(\".document\")! as HTMLElement, document.body);\n"]}